{% extends 'Core/Search/_searchbox.part.html.twig' %}

{% set placeholder = 'search.in.schools'|trans() %}
{% set searchPath = path('core_school_list', routeParameters) %}
{% set mapSearchPath = path('core_school_list_geojson') %}
{% set masonry = layout == 'view' %}

{% block filtersDropdown %}
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="around" data-label="Autour de moi" data-editable="false" data-unique="true" data-geolocation="true" data-require-map="true" data-icon="geolocate"><i class="ladb-icon-geolocate ladb-icon-fixed-center"></i> Autour de moi</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="location" data-label="Localisation" data-editable="true" data-require-map="true" data-icon="location"><i class="ladb-icon-location ladb-icon-fixed-center"></i> Localisation</a></li>
    <li class="divider"></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="diplomas" data-label="Diplômes" data-editable="true" data-icon="diploma"><i class="ladb-icon-diploma ladb-icon-fixed-center"></i> Diplômes</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="training-types" data-label="Type de formation" data-editable="true" data-icon="school-training" data-proposals="Continue,Alternance,Apprentissage,Professionnelle,Stage court,En ligne"><i class="ladb-icon-school-training ladb-icon-fixed-center"></i> Type de formation</a></li>
    <li class="divider"></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="with-diploma" data-label="Avec diplôme" data-editable="false" data-icon="filter"><i class="ladb-icon-filter"></i> Avec diplôme</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="with-testimonial" data-label="Avec témoignage" data-editable="false" data-icon="student"><i class="ladb-icon-student"></i> Avec témoignage</a></li>
    <li class="divider"></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="content-creations" data-label="Avec création" data-unique="true" data-icon="creation"><i class="ladb-icon-creation"></i> Avec création</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="content-plans" data-label="Avec plan" data-unique="true" data-icon="plan"><i class="ladb-icon-plan"></i> Avec plan</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="filter" data-name="content-howtos" data-label="Avec pas à pas" data-unique="true" data-icon="howto"><i class="ladb-icon-howto"></i> Avec pas à pas</a></li>
    <li class="divider{% if not is_granted('ROLE_USER') %} hidden{% endif %}"></li>
    <li{% if not is_granted('ROLE_USER') %} class="hidden"{% endif %}><a class="ladb-smartsearch-facet" data-type="filter" data-name="rejected" data-label="Rejetées" data-icon="thumb-down"><i class="ladb-icon-thumb-down"></i> Rejetées</a></li>
{% endblock %}

{% block sortersDropdown %}
    <li><a class="ladb-smartsearch-facet" data-type="sorter" data-name="sort-recent" data-label="Récentes" data-unique="true" data-icon="time"><i class="ladb-icon-time"></i> Récentes</a></li>
    <li class="divider"></li>
    <li><a class="ladb-smartsearch-facet" data-type="sorter" data-name="sort-popular-views" data-label="Plus vues" data-unique="true" data-icon="eye"><i class="ladb-icon-eye"></i> Plus vues</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="sorter" data-name="sort-popular-likes" data-label="Préférées" data-unique="true" data-icon="like"><i class="ladb-icon-like"></i> Préférées</a></li>
    <li><a class="ladb-smartsearch-facet" data-type="sorter" data-name="sort-popular-comments" data-label="Plus commentées" data-unique="true" data-icon="comment"><i class="ladb-icon-comment"></i> Plus commentées</a></li>
    <li class="divider"></li>
    <li><a class="ladb-smartsearch-facet" data-type="sorter" data-name="sort-random" data-label="Aléatoire" data-unique="true" data-random="true" data-icon="random"><i class="ladb-icon-random"></i> Aléatoire</a></li>
    {% if is_granted('ROLE_USER') %}
        <li class="divider"></li>
        <li><a class="ladb-smartsearch-facet" data-type="sorter" data-name="sort-completion" data-label="Remplissage" data-unique="true" data-icon="percent"><i class="ladb-icon-percent"></i> Remplissage</a></li>
    {% endif %}
{% endblock %}

{% block searchboxShortcuts %}
    <li><a class="ladb-smartsearch-shortcut" data-query="@with-testimonial"><i class="ladb-icon-student"></i> Avec témoignage</a></li>
    <li><a class="ladb-smartsearch-shortcut" data-query="@training-types:&quot;En ligne&quot;"><i class="ladb-icon-school-training-online"></i> Formations en ligne</a></li>
{% endblock %}
